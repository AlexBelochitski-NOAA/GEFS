#######################################################
# This file defines the various input varibles for the
# GEFS model run
#######################################################
 
export RUN_ENVIR=${RUN_ENVIR:-dev}
export envir=${envir:-dev}
export SENDDBN=${SENDDBN:-%SENDDBN:NO%}
export SENDDBN_NTC=${SENDDBN_NTC:-%SENDDBN_NTC:NO%}

export KEEPDATA=YES
export SENDCOM=YES
export SENDECF=NO

export PARAFLAG=${PARAFLAG:-YES}
export SENDECF=${SENDECF:-NO}
export SENDCOM=${SENDCOM:-YES}
export KEEPDATA=${KEEPDATA:-%KEEPDATA:NO%}

export COMROOT=$baseoutput/com
export GESROOT=$baseoutput/nwges
export DATAROOT=$baseoutput/tmpnwprd
export DCOMROOT=${DCOMROOT:-/dcom}
export PCOMROOT=$baseoutput/pcom/$envir

  mkdir -p  $COMROOT/logs/jlogfiles

#export COMROOTp1=/com
#export COMROOTp1=/ensemble2/noscrub/Dingchen.Hou/GEFS15/PARA20150708/com
if [[ $gefsmachine == cray ]]; then

export CRAYDIR=/gpfs/hps
export CRAYOPS=/gpfs/hps/nco/ops
export CRAYEMC=/gpfs/hps/emc

export WCSDIR=/gpfs/td1
export WCSOPS=/gpfs/tp1/nco/ops
export WCSEMC=/gpfs/td1/emc
export SUPVIT=/gpfs/hps/nco/ops/nwpara/util_shared.v1.0.3/exec/supvit
export NTHREADS_SIGCHGRS=6
export exec=$gefsmpexec
export COMROOTp1=$CRAYEMC/ensemble/noscrub/Bing.Fu/o/com
#export archsyndir=/com/arch/prod/syndat
export archsyndir=$WCSOPS/com/arch/prod/syndat
export GESROOTp1=/nwges
export DBNROOT=

export NWROOT=$CRAYOPS/nwprod
export NWROOTprod=$CRAYOPS/nwprod
export NWROOTp1=$WCSOPS/nwprod

HOMEDIR=$CRAYEMC/ensemble/save/Bing.Fu/TAGS

fi

if [[ $gefsmachine == wcoss ]]; then

export COMROOTp1=/ensemble/noscrub/Richard.Wobus/o/com
export archsyndir=/com/arch/prod/syndat
export GESROOTp1=/nwges
export DBNROOT=

export NWROOT=/nwprod2
export NWROOTprod=/nwprod2
export NWROOTp1=/nwprod

HOMEDIR=/ensemble/save/Dingchen.Hou/RFC

fi

export gefsmachine=${gefsmachine:-wcoss}

  export HOMEgefs=$HOMEDIR/gefs.v11.0.0
  export HOMEgefs=$basesource/nwdev

  export HOMEgsm=$HOMEDIR/gsm.v12.1.1
  export HOMEpost=$HOMEDIR/ncep_post.v7.2.0
  export HOMEenkf=$HOMEDIR/enkf.v2.0.1
  export HOMEtrak=$HOMEDIR/ens_tracker.v1.1.0

# This section is optional, using path to define utility files
# export UTILROOT=/nwprod2/prod_util.v1.0.0  
# export GRIBROOT=/nwprod2/grib_util.v1.0.1
# export EXECutil=$UTILROOT/exec
# export USHutil=$UTILROOT/ush
# export EXECgrib=$GRIBROOT/exec
if [[ $gefsmachine == wcoss]]; then

  . /usrx/local/Modules/default/init/ksh
  module use /nwprod2/modulefiles
  module load prod_util/v1.0.1
  module load grib_util/v1.0.1
  module use /nwpara2/modulefiles
  module load util_shared/v1.0.1
fi

if [[ $gefsmachine == cray]]; then

  . /opt/modules/default/init/ksh
  module use $CRAYOPS/nwprod/modulefiles
  module load prod_util
  module load grib_util/1.0.3
fi

  export NDATE=${NDATE:-$USHutil/ndate}

  export WGRIB=${WGRIB:-$EXECgrib/wgrib}
  export GRBINDEX=${GRBINDEX:-$EXECgrib/grbindex}
  export COPYGB=${COPYGB:-$EXECgrib/copygb}
  export WGRIB2=${WGRIB2:-$EXECgrib/wgrib2}
  export GRB2INDEX=${GRB2INDEX:-$EXECgrib/grb2index}
  export COPYGB2=${COPYGB2:-$EXECgrib/copygb2}
  export CNVGRIB=${CNVGRIB:-$EXECgrib/cnvgrib21_gfs}
  export CNVGRIB21_GFS=${CNVGRIB21_GFS:-$EXECgrib/cnvgrib21_gfs}
  export CNVGRIB=$CNVGRIB21_GFS

  export NET=gens
# export RUN=$RUN
# export RUNMEM=$RUNMEM

# Temperay setting for testing some special jobs, comment them out for real time dev test
# export COMINGEST=/ensemble/noscrub/Yan.Luo/com-ingest-prod  #temporary testing of CQPF job
# export COMIN=/ensemble/noscrub/emc.enspara/xz/T574L64SL/EK0 #temporary testing of CQPF job
